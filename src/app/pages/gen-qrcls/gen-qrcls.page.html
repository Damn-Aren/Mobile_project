<ion-header [translucent]="true">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
  <div class="barra-sup">
    <h4>GenQR</h4>
    <img src="../../../assets/imgs/Logo_DuocUC.svg.png" alt="Logo" class="Duoc">
  </div>
</ion-header>

<ion-content [fullscreen]="true" class="background">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Lista Asignaturas</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div>
        <ion-list>
          <ion-item *ngFor="let asig of Lista_asignaturas">
            {{ asig.Nombre_asignatura }}
            <ion-button name="BotonGenerador" slot="end" class="boton" expand="block" (click)="openModal()">Generar QR</ion-button>
          </ion-item>
        </ion-list>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-modal #modal (didDismiss)="closeModal()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <div *ngIf="!listaClases?.length">
          No hay clases disponibles.
        </div>
      
        <div *ngFor="let clase of listaClases">
          {{ clase.id || 'Clase sin nombre' }}
          <ion-button name="LeerQR" color="light" expand="block" (click)="LeerQR(clase)">

            <div>
              <strong>DÃ­a:</strong> {{ clase.dia || 'No especificado' }}
   ||   
              <strong>Fecha:</strong> {{ clase.fecha || 'No especificada' }}
            </div>
          </ion-button>
          </div>
        </ion-content>
      
      
    </ng-template>
  </ion-modal>

  <ion-button expand="block" (click)="Volver()">Volver</ion-button>
</ion-content>
